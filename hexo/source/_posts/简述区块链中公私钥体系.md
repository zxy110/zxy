---
title: 简述区块链中公私钥体系
abbrlink: 18094
date: 2018-12-27 15:27:49
categories:
  - 密码学
tags: [区块链, 公私钥体系]
---
在传统的HTTPs加密通信中，公钥的验证是通过CA进行的，即向CA注册时，能够拿到由CA签名加密的公钥，这样别人拿到后用CA的公钥解密即可验证其身份。

具体来说，A与B通信，首先A向B发送自己的公钥，B通过CA验证A公钥的真实性，然后用A的公钥加密B的公钥和通信时使用的密钥，发给B，B用自己的私钥解开就拿到了通信密钥，之后即可通过通信密钥进行对称加密实现通信。原理图如下：
![](/images/PK.png)

区块链中也依然存在CA实现公钥身份证明，若要去掉CA这个中心呢，设想公钥是否可以用区块链来实现公开透明共识，然后发现有人写了一篇专利，主要步骤如下：
1. 用户向代理节点申请将公钥托管在区块链中，用户向代理节点发送请求，请求在一定时间内将公钥存储在区块链网络中的权利，代理节点在通过申请后，生成一对临时的公钥私钥对以及用户的ID，代理节点将临时公钥、用户ID、用户托管的起止时间、代理节点的ID、签名算法以及信息类型标志打包成一个信息包，利用代理节点的公钥签名后发布到网络中，代理节点将密钥对信息以及用户ID发送给请求的用户，用户在信息被区块链确认之后，发布自己的公钥；
2. 用户生成公钥私钥对，并生成公钥信息，将自己的公钥信息广播到区块链网络中用户在生成自己的密钥之后，将密钥的生效时间段、用户ID、签名算法以及信息类型标志封装成附加信息附在生成的公钥之后，生成完整的公钥信息，用户对完整的公钥信息进行签名，签名所使用的私钥为存在于区块链中的有效公钥信息对应的私钥，使得收到信息的节点能够对公钥信息进行验证；
3. 节点对收到的公钥信息进行验证，加入本地缓存当节点从网络中收到一条公钥信息时，通过附加信息中存储的签名者ID查找到用户存储于区块链中的公钥信息；通过验证签名的方式证明信息由用户自身生成；在信息通过签名验证后，节点会将公钥信息存储入本地缓存中，同时转发用户的公钥信息；
4. 节点在生成或收到一个新的区块后，开始进行下一个区块的生成节点...
详见 http://www.jigao616.com/zhuanlijieshao_19865819.aspx#